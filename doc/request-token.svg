<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.0//EN" "http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd">
<svg viewBox="0 0 740 896" xmlns="http://www.w3.org/2000/svg" xmlns:inkspace="http://www.inkscape.org/namespaces/inkscape" xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs id="defs_block">
    <filter height="1.504" id="filter_blur" inkspace:collect="always" width="1.1575" x="-0.07875" y="-0.252">
      <feGaussianBlur id="feGaussianBlur3780" inkspace:collect="always" stdDeviation="4.2" />
    </filter>
  </defs>
  <title>blockdiag</title>
  <desc />
  <rect fill="rgb(0,0,0)" height="711" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="227" y="143" />
  <rect fill="rgb(0,0,0)" height="175" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="419" y="143" />
  <rect fill="rgb(0,0,0)" height="281" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="419" y="464" />
  <rect fill="rgb(0,0,0)" height="50" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="611" y="210" />
  <rect fill="rgb(0,0,0)" height="67" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="8" x="611" y="531" />
  <polygon fill="rgb(0,0,0)" points="439,310 546,310 554,318 554,327 439,327 439,310" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" />
  <polygon fill="rgb(0,0,0)" points="27,456 207,456 215,464 215,473 27,473 27,456" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" />
  <polygon fill="rgb(0,0,0)" points="439,737 564,737 572,745 572,754 439,754 439,737" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="167" y="46" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="359" y="46" />
  <rect fill="rgb(0,0,0)" height="40" stroke="rgb(0,0,0)" style="filter:url(#filter_blur);opacity:0.7;fill-opacity:1" width="128" x="551" y="46" />
  <path d="M 228 80 L 228 864" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <rect fill="moccasin" height="711" stroke="rgb(0,0,0)" width="8" x="224" y="137" />
  <path d="M 420 80 L 420 864" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <rect fill="moccasin" height="175" stroke="rgb(0,0,0)" width="8" x="416" y="137" />
  <rect fill="moccasin" height="281" stroke="rgb(0,0,0)" width="8" x="416" y="458" />
  <path d="M 612 80 L 612 864" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="8 4" />
  <rect fill="moccasin" height="50" stroke="rgb(0,0,0)" width="8" x="608" y="204" />
  <rect fill="moccasin" height="67" stroke="rgb(0,0,0)" width="8" x="608" y="525" />
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="164" y="40" />
  <text fill="rgb(0,0,0)" font-family="sansserif" font-size="11" font-style="normal" font-weight="normal" x="216" y="66">user</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="356" y="40" />
  <text fill="rgb(0,0,0)" font-family="sansserif" font-size="11" font-style="normal" font-weight="normal" x="390" y="66">webservice</text>
  <rect fill="rgb(255,255,255)" height="40" stroke="rgb(0,0,0)" width="128" x="548" y="40" />
  <text fill="rgb(0,0,0)" font-family="sansserif" font-size="11" font-style="normal" font-weight="normal" x="603" y="66">duo</text>
  <path d="M 236 137 L 412 137" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="404,133 412,137 404,141" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sansserif" font-size="11" font-style="normal" font-weight="normal" x="236" y="133">Login Request</text>
  <path d="M 428 204 L 604 204" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="596,200 604,204 596,208" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sansserif" font-size="11" font-style="normal" font-weight="normal" x="428" y="200">Request Preauth</text>
  <path d="M 428 254 L 604 254" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,0,0)" points="436,250 428,254 436,258" stroke="rgb(0,0,0)" />
  <path d="M 236 312 L 412 312" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,0,0)" points="244,308 236,312 244,316" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(255,182,193)" points="436,304 543,304 551,312 551,321 436,321 436,304" stroke="rgb(0,0,0)" />
  <path d="M 543 304 L 543 312" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 543 312 L 551 312" fill="none" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sansserif" font-size="11" font-style="normal" font-weight="normal" x="444" y="317">Preauth Details</text>
  <path d="M 236 458 L 412 458" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="404,454 412,458 404,462" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sansserif" font-size="11" font-style="normal" font-weight="normal" x="236" y="454">Auth method choice</text>
  <polygon fill="rgb(255,182,193)" points="24,450 204,450 212,458 212,467 24,467 24,450" stroke="rgb(0,0,0)" />
  <path d="M 204 450 L 204 458" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 204 458 L 212 458" fill="none" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sansserif" font-size="11" font-style="normal" font-weight="normal" x="32" y="463">Prompt user for auth choice</text>
  <path d="M 428 525 L 604 525" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="596,521 604,525 596,529" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sansserif" font-size="11" font-style="normal" font-weight="normal" x="428" y="521">Request Duo authentication</text>
  <path d="M 428 592 L 604 592" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,0,0)" points="436,588 428,592 436,596" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sansserif" font-size="11" font-style="normal" font-weight="normal" x="519" y="588">User logged in</text>
  <path d="M 236 739 L 412 739" fill="none" stroke="rgb(0,0,0)" stroke-dasharray="4" />
  <polygon fill="rgb(0,0,0)" points="244,735 236,739 244,743" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sansserif" font-size="11" font-style="normal" font-weight="normal" x="351" y="735">auth token</text>
  <polygon fill="rgb(255,182,193)" points="436,731 561,731 569,739 569,748 436,748 436,731" stroke="rgb(0,0,0)" />
  <path d="M 561 731 L 561 739" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 561 739 L 569 739" fill="none" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sansserif" font-size="11" font-style="normal" font-weight="normal" x="444" y="744">Our internal token</text>
  <path d="M 236 806 L 374 806" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 374 806 L 374 822" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 374 822 L 236 822" fill="none" stroke="rgb(0,0,0)" />
  <polygon fill="rgb(0,0,0)" points="244,818 236,822 244,826" stroke="rgb(0,0,0)" />
  <text fill="rgb(0,0,0)" font-family="sansserif" font-size="11" font-style="normal" font-weight="normal" x="236" y="802">save auth token</text>
  <path d="M 140 379 L 386 379" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 140 383 L 386 383" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 455 379 L 700 379" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 455 383 L 700 383" fill="none" stroke="rgb(0,0,0)" />
  <rect fill="rgb(208,208,208)" height="19" stroke="rgb(0,0,0)" width="69" x="386" y="372" />
  <text fill="rgb(0,0,0)" font-family="sansserif" font-size="11" font-style="normal" font-weight="normal" x="396" y="387">Pre Auth</text>
  <path d="M 140 660 L 365 660" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 140 664 L 365 664" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 476 660 L 700 660" fill="none" stroke="rgb(0,0,0)" />
  <path d="M 476 664 L 700 664" fill="none" stroke="rgb(0,0,0)" />
  <rect fill="rgb(208,208,208)" height="19" stroke="rgb(0,0,0)" width="111" x="365" y="653" />
  <text fill="rgb(0,0,0)" font-family="sansserif" font-size="11" font-style="normal" font-weight="normal" x="375" y="668">Duo Auth Passed</text>
</svg>
